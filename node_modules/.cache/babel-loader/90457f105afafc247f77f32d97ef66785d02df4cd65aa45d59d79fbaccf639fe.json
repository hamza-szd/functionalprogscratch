{"ast":null,"code":"import{prettyPrintSignature}from\"./dynamic-type\";import{prettyPrintValue}from\"./value\";export function describeRuntimeError(e){switch(e.tag){case\"HoleEval\":return`evaluating hole as expression`;case\"CallToNonFunction\":return`call to non-function: ${prettyPrintValue(e.called)}`;case\"DynamicSignatureMismatch\":return`call to function with arguments (${e.argValues.map(prettyPrintValue).join(\" \")}) is incompatible with the required signature (${prettyPrintSignature(e.signature)})`;case\"ImproperList\":return`argument ${e.argValue?prettyPrintValue(e.argValue):\"[none]\"} passed to built-in function \\\"${e.functionName}\\\" is an improper list`;case\"IndexOutOfBounds\":return`index ${e.index} is out of bounds for list ${prettyPrintValue(e.list)}`;case\"WrongStructType\":return`wrong structure type passed to field accessor for ${e.structName}`;case\"UnboundVariable\":return`no variable named \\\"${e.name}\\\" is bound here`;case\"UninitializedVariable\":return`the variable \\\"${e.name}\\\" is uninitialized`;case\"CircularDependency\":return`the variable \\\"${e.name}\\\" has a circular definition`;}}","map":{"version":3,"names":["prettyPrintSignature","prettyPrintValue","describeRuntimeError","e","tag","called","argValues","map","join","signature","argValue","functionName","index","list","structName","name"],"sources":["/Users/hamzashahzad/Desktop/resume_projects/sparkground/src/evaluator/errors.ts"],"sourcesContent":["import { DynamicFnSignature, prettyPrintSignature } from \"./dynamic-type\";\nimport { ListValue, Value, prettyPrintValue } from \"./value\";\n\nexport type RuntimeError =\n  | HoleEval\n  | CallToNonFunction\n  | DynamicSignatureMismatch\n  | ImproperList\n  | IndexOutOfBounds\n  | WrongStructType\n  | UnboundVariable\n  | UninitializedVariable\n  | CircularDependency;\n\nexport type HoleEval = {\n  tag: \"HoleEval\";\n};\n\nexport type CallToNonFunction = {\n  tag: \"CallToNonFunction\";\n  called: Value;\n};\n\nexport type DynamicSignatureMismatch = {\n  tag: \"DynamicSignatureMismatch\";\n  argValues: Value[];\n  signature: DynamicFnSignature;\n};\n\nexport type ImproperList = {\n  tag: \"ImproperList\";\n  functionName: string;\n  argValue?: Value;\n};\n\nexport type IndexOutOfBounds = {\n  tag: \"IndexOutOfBounds\";\n  list: ListValue;\n  index: number;\n};\n\nexport type WrongStructType = {\n  tag: \"WrongStructType\";\n  structName: string;\n};\n\nexport type UnboundVariable = {\n  tag: \"UnboundVariable\";\n  name: string;\n};\n\nexport type UninitializedVariable = {\n  tag: \"UninitializedVariable\";\n  name: string;\n};\n\nexport type CircularDependency = {\n  tag: \"CircularDependency\";\n  name: string;\n};\n\nexport function describeRuntimeError(e: RuntimeError): string {\n  switch (e.tag) {\n    case \"HoleEval\":\n      return `evaluating hole as expression`;\n    case \"CallToNonFunction\":\n      return `call to non-function: ${prettyPrintValue(e.called)}`;\n    case \"DynamicSignatureMismatch\":\n      return `call to function with arguments (${e.argValues\n        .map(prettyPrintValue)\n        .join(\" \")}) is incompatible with the required signature (${prettyPrintSignature(\n        e.signature,\n      )})`;\n    case \"ImproperList\":\n      return `argument ${\n        e.argValue ? prettyPrintValue(e.argValue) : \"[none]\"\n      } passed to built-in function \\\"${e.functionName}\\\" is an improper list`;\n    case \"IndexOutOfBounds\":\n      return `index ${e.index} is out of bounds for list ${prettyPrintValue(e.list)}`;\n    case \"WrongStructType\":\n      return `wrong structure type passed to field accessor for ${e.structName}`;\n    case \"UnboundVariable\":\n      return `no variable named \\\"${e.name}\\\" is bound here`;\n    case \"UninitializedVariable\":\n      return `the variable \\\"${e.name}\\\" is uninitialized`;\n    case \"CircularDependency\":\n      return `the variable \\\"${e.name}\\\" has a circular definition`;\n  }\n}\n"],"mappings":"AAAA,OAA6BA,oBAAoB,KAAQ,gBAAgB,CACzE,OAA2BC,gBAAgB,KAAQ,SAAS,CA4D5D,MAAO,SAAS,CAAAC,oBAAoBA,CAACC,CAAe,CAAU,CAC5D,OAAQA,CAAC,CAACC,GAAG,EACX,IAAK,UAAU,CACb,MAAO,+BAA+B,CACxC,IAAK,mBAAmB,CACtB,MAAO,yBAAyBH,gBAAgB,CAACE,CAAC,CAACE,MAAM,CAAC,EAAE,CAC9D,IAAK,0BAA0B,CAC7B,MAAO,oCAAoCF,CAAC,CAACG,SAAS,CACnDC,GAAG,CAACN,gBAAgB,CAAC,CACrBO,IAAI,CAAC,GAAG,CAAC,kDAAkDR,oBAAoB,CAChFG,CAAC,CAACM,SACJ,CAAC,GAAG,CACN,IAAK,cAAc,CACjB,MAAO,YACLN,CAAC,CAACO,QAAQ,CAAGT,gBAAgB,CAACE,CAAC,CAACO,QAAQ,CAAC,CAAG,QAAQ,kCACpBP,CAAC,CAACQ,YAAY,wBAAwB,CAC1E,IAAK,kBAAkB,CACrB,MAAO,SAASR,CAAC,CAACS,KAAK,8BAA8BX,gBAAgB,CAACE,CAAC,CAACU,IAAI,CAAC,EAAE,CACjF,IAAK,iBAAiB,CACpB,MAAO,qDAAqDV,CAAC,CAACW,UAAU,EAAE,CAC5E,IAAK,iBAAiB,CACpB,MAAO,uBAAuBX,CAAC,CAACY,IAAI,kBAAkB,CACxD,IAAK,uBAAuB,CAC1B,MAAO,kBAAkBZ,CAAC,CAACY,IAAI,qBAAqB,CACtD,IAAK,oBAAoB,CACvB,MAAO,kBAAkBZ,CAAC,CAACY,IAAI,8BAA8B,CACjE,CACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
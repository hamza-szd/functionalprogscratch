{"ast":null,"code":"import _classPrivateFieldLooseBase from\"/Users/hamzashahzad/Desktop/resume_projects/sparkground/node_modules/@babel/runtime/helpers/esm/classPrivateFieldLooseBase.js\";import _classPrivateFieldLooseKey from\"/Users/hamzashahzad/Desktop/resume_projects/sparkground/node_modules/@babel/runtime/helpers/esm/classPrivateFieldLooseKey.js\";import{cloneDeep}from\"lodash\";var _errors=/*#__PURE__*/_classPrivateFieldLooseKey(\"errors\");var _encode=/*#__PURE__*/_classPrivateFieldLooseKey(\"encode\");export class ErrorsByIndexPath{constructor(){Object.defineProperty(this,_encode,{value:_encode2});Object.defineProperty(this,_errors,{writable:true,value:{}});}clear(){_classPrivateFieldLooseBase(this,_errors)[_errors]={};}add(indexPath,error){_classPrivateFieldLooseBase(this,_errors)[_errors][_classPrivateFieldLooseBase(this,_encode)[_encode](indexPath)]=error;}for(indexPath){return _classPrivateFieldLooseBase(this,_errors)[_errors][_classPrivateFieldLooseBase(this,_encode)[_encode](indexPath)];}all(){return Object.values(_classPrivateFieldLooseBase(this,_errors)[_errors]);}dump(){console.log(cloneDeep(_classPrivateFieldLooseBase(this,_errors)[_errors]));}}function _encode2(indexPath){return indexPath.tree.id+\"#\"+indexPath.path.map(x=>`${x}`).join(\"#\");}","map":{"version":3,"names":["cloneDeep","_errors","_classPrivateFieldLooseKey","_encode","ErrorsByIndexPath","constructor","Object","defineProperty","value","_encode2","writable","clear","_classPrivateFieldLooseBase","add","indexPath","error","for","all","values","dump","console","log","tree","id","path","map","x","join"],"sources":["/Users/hamzashahzad/Desktop/resume_projects/sparkground/src/expr/errors.ts"],"sourcesContent":["import { cloneDeep } from \"lodash\";\nimport { TreeIndexPath } from \"../editor/trees/tree\";\n\nexport class ErrorsByIndexPath<ErrorType> {\n  #errors: Record<string, ErrorType> = {};\n\n  clear() {\n    this.#errors = {};\n  }\n\n  add(indexPath: TreeIndexPath, error: ErrorType) {\n    this.#errors[this.#encode(indexPath)] = error;\n  }\n\n  for(indexPath: TreeIndexPath) {\n    return this.#errors[this.#encode(indexPath)];\n  }\n\n  all() {\n    return Object.values(this.#errors);\n  }\n\n  #encode(indexPath: TreeIndexPath) {\n    return indexPath.tree.id + \"#\" + indexPath.path.map((x) => `${x}`).join(\"#\");\n  }\n\n  dump(): void {\n    console.log(cloneDeep(this.#errors));\n  }\n}\n"],"mappings":"4UAAA,OAASA,SAAS,KAAQ,QAAQ,CAAC,IAAAC,OAAA,cAAAC,0BAAA,eAAAC,OAAA,cAAAD,0BAAA,WAGnC,MAAO,MAAM,CAAAE,iBAA6B,CAAAC,YAAA,EAAAC,MAAA,CAAAC,cAAA,MAAAJ,OAAA,EAAAK,KAAA,CAAAC,QAAA,GAAAH,MAAA,CAAAC,cAAA,MAAAN,OAAA,EAAAS,QAAA,MAAAF,KAAA,CACH,CAAC,CAAC,IAEvCG,KAAKA,CAAA,CAAG,CACNC,2BAAA,KAAI,CAAAX,OAAA,EAAAA,OAAA,EAAW,CAAC,CAAC,CACnB,CAEAY,GAAGA,CAACC,SAAwB,CAAEC,KAAgB,CAAE,CAC9CH,2BAAA,KAAI,CAAAX,OAAA,EAAAA,OAAA,EAAAW,2BAAA,CAAS,IAAI,CAAAT,OAAA,EAAAA,OAAA,EAASW,SAAS,EAAE,CAAGC,KAAK,CAC/C,CAEAC,GAAGA,CAACF,SAAwB,CAAE,CAC5B,MAAO,CAAAF,2BAAA,KAAI,CAAAX,OAAA,EAAAA,OAAA,EAAAW,2BAAA,CAAS,IAAI,CAAAT,OAAA,EAAAA,OAAA,EAASW,SAAS,EAAE,CAC9C,CAEAG,GAAGA,CAAA,CAAG,CACJ,MAAO,CAAAX,MAAM,CAACY,MAAM,CAAAN,2BAAA,CAAC,IAAI,CAAAX,OAAA,EAAAA,OAAA,CAAQ,CAAC,CACpC,CAMAkB,IAAIA,CAAA,CAAS,CACXC,OAAO,CAACC,GAAG,CAACrB,SAAS,CAAAY,2BAAA,CAAC,IAAI,CAAAX,OAAA,EAAAA,OAAA,CAAQ,CAAC,CAAC,CACtC,CACF,CAAC,SAAAQ,SAPSK,SAAwB,CAAE,CAChC,MAAO,CAAAA,SAAS,CAACQ,IAAI,CAACC,EAAE,CAAG,GAAG,CAAGT,SAAS,CAACU,IAAI,CAACC,GAAG,CAAEC,CAAC,EAAK,GAAGA,CAAC,EAAE,CAAC,CAACC,IAAI,CAAC,GAAG,CAAC,CAC9E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}